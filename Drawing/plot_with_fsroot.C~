
void plot_with_fsroot()
{


    FSHistogram::readHistogramCache();
  
    TString FN("/work/halld/home/ilbelov/DataSpring2017/flattree_2pip2pim_sum_30274_31057_precuts.root");
    TString TN(FSTree::getTreeNameFromFile(FN));
    
    // Define histograms out of the generated file
    FSHistogram::enableRDataFrame(false);
    
    TH1F *missm2 = FSHistogram::getTH1F(FN,TN,"Miss_M2","(100,-0.04,0.04)","");
    TH1F *EnBeam  = FSHistogram::getTH1F(FN,TN,"E_Beam","(100,7,10)","");
    TH1F *chi2ndof  = FSHistogram::getTH1F(FN,TN,"Chi2Ndof","(100,0,10)","");
    TH1F *minust = FSHistogram::getTH1F(FN,TN,"-1*tvar_U1","(100,0.,4.)","");



    
    FSHistogram::executeRDataFrame();

    // Place a title for each histogram

    minust->GetXaxis()->SetTitleSize(0.5);
    missm2->GetXaxis()->SetTitleSize(0.5);
    EnBeam->GetXaxis()->SetTitleSize(0.5);
    chi2ndof->GetXaxis()->SetTitleSize(0.5);


    minust->SetTitle("; -t  [GeV^{2}]; Events/ 0.16 [GeV^{2}]");
    missm2->SetTitle("; M_{miss}^{2}  [GeV^2]; Events/ 0.0008 [GeV^{2}]");
    EnBeam->SetTitle("; E_{beam}  [GeV]; Events/ 0.03 [GeV]");
    chi2ndof->SetTitle("; #chi^{2}/N_{d.o.f.}; Events/ 0.15");
    

    bool toggleCanvas = true;    // Keep toggleCanvas = true, if you want all plots in one canvas

    gROOT->SetBatch(kTRUE);
        
    if(toggleCanvas){

      
      /*      
      TCanvas* canva1 = new TCanvas("c1","c1",15,10,800,300);
      canva1->Divide(3);
      canva1->cd(1); EnBeam->Draw();
      canva1->cd(2); prodvz->Draw();
      canva1->cd(3); prodvxy->Draw();
      */
      
      TCanvas* canva2 = new TCanvas("c1","c1",15,10,800,300);
      canva2->Divide(3);      
      canva2->cd(1); chi2ndof->Draw();
      canva2->cd(2); minust->Draw();
      canva2->cd(3); missm2->Draw();

      
      canva2->Print("precuts_part2.pdf", "pdf");
      canva2->Close();


      
    }
    

    



}
